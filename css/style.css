/* =====================================================
   Root
===================================================== */
:root{
  --bg:#090B10;
  --panel: rgba(23,25,29,.88);
  --item: rgba(35,38,43,.92);

  --text:#fff;
  --muted: rgba(255,255,255,.6);

  --stroke: rgba(255,255,255,.22);
  --strokeSoft: rgba(255,255,255,.12);

  --rXL: 2.5rem;
  --shadow: 0 30px 70px rgba(0,0,0,.45);
  --shadowSoft: 0 14px 34px rgba(0,0,0,.28);

  --aboutPanelH: clamp(420px, 55vh, 560px);
}

/* =====================================================
   Reset
===================================================== */
*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, "Pretendard", "Noto Sans KR", Arial, sans-serif;
}
img{ max-width:100%; display:block; }
a{ color:inherit; text-decoration:none; }

.container{ width: min(1280px, 100% - 2rem); margin-inline:auto; }
.section{ padding: 4.5rem 0; }
.sectionTitle{
  font-size: clamp(40px, 5vw, 64px);
  font-weight:800;
  line-height:1.1;
}
.muted{ color:var(--muted); }

/* =====================================================
   Header
===================================================== */
.siteHeader{
  position: sticky;
  top:0;
  z-index:50;
  backdrop-filter: blur(10px);
  background: rgba(9,11,16,.55);
  border-bottom:1px solid rgba(255,255,255,.08);
}
.headerRow{
  height:4.5rem;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.nav{ display:flex; gap:2rem; }
.navLink{ font-weight:900; opacity:.9; }
.navLink:hover{ opacity:1; }

/* =====================================================
   Hero
===================================================== */
.hero{ padding:4rem 0 2rem; }
.heroGrid{
  display:grid;
  grid-template-columns:1.2fr .8fr;
  gap:2rem;
  align-items:center;
}
.heroTitle{
  font-size: clamp(2rem, 3vw, 2.8rem);
  font-weight:950;
}
.heroDesc{ line-height:1.8; }

/* =====================================================
   About Panels
===================================================== */
.aboutGrid{
  display:grid;
  grid-template-columns:1fr 1.5fr;
  gap:1.6rem;
}
.panel{
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:var(--rXL);
  padding:2rem;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  min-height:0;
}
.panelProfile,
.panelCareer{
  height:var(--aboutPanelH);
}

/* =====================================================
   Career Scroll
===================================================== */
.careerScroll{
  flex:1;
  min-height:0;
}
.careerGrid{
  height:100%;
  overflow:auto;
  min-height:0;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:1rem;
  padding-right:.6rem;
}
.careerGrid::-webkit-scrollbar{ width:10px; }
.careerGrid::-webkit-scrollbar-thumb{
  background:rgba(255,255,255,.3);
  border-radius:999px;
}

/* =====================================================
   Portfolio Grid
===================================================== */
.workGrid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:1rem;
}
.workCard{
  background:rgba(23,25,29,.86);
  border-radius:1.4rem;
  padding:1rem;
  cursor:pointer;
}

/* =====================================================
   ================= MODAL ============================
===================================================== */

/* Overlay */
.modal{
  position:fixed;
  inset:0;
  z-index:1000;

  display:flex;
  align-items:center;
  justify-content:center;

  background:rgba(0,0,0,.65);
  backdrop-filter:blur(6px);

  opacity:0;
  pointer-events:none;
  transition:.25s ease;

  overscroll-behavior:contain;
}
.modal.isOpen{
  opacity:1;
  pointer-events:auto;
}

/* Body Lock (Safari 안정) */
body.modalOpen{
  overflow:hidden;
  height:100dvh;
  touch-action:none;
}

/* =====================================================
   Work Popup
===================================================== */
.workPopup{
  width:min(1180px, calc(100% - 2rem));
  height:min(90dvh, 820px);

  display:grid;
  grid-template-columns:705px 1fr;

  border-radius:30px;
  background:rgba(18,22,34,.95);
  border:1px solid rgba(255,255,255,.18);

  overflow:hidden;
  position:relative;

  overscroll-behavior:contain;
}

/* Close */
.workPopup__close{
  position:absolute;
  top:20px;
  right:24px;
  width:44px;
  height:44px;
  border-radius:10px;
  background:#1B1F2B;
  display:grid;
  place-items:center;
  cursor:pointer;
  z-index:5;
}

/* Media */
.workPopup__media{
  background:#171926;
  display:flex;
  align-items:center;
  justify-content:center;
}
.workPopup__imageFrame{
  width:min(486px, 78%);
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}
.workPopup__image{
  max-width:100%;
  max-height:100%;
  object-fit:contain;
}

/* Info Scroll */
.workPopup__info{
  padding:64px 32px 36px;

  overflow-y:auto;
  -webkit-overflow-scrolling:touch;

  overscroll-behavior:contain;
  touch-action:pan-y;

  min-height:0;
}

/* =====================================================
   ================= MOBILE ============================
===================================================== */

@media (max-width: 980px){
  .heroGrid{ grid-template-columns:1fr; }
  .aboutGrid{ grid-template-columns:1fr; }
  .workGrid{ grid-template-columns:1fr; }

  .panelProfile,
  .panelCareer{
    height:auto;
  }

  .careerGrid{
    grid-template-columns:1fr;
    height:auto;
    max-height:360px;
  }
}

/* Safari 안정화 핵심 */
@media (max-width: 768px){

  .workPopup{
    display:flex !important;
    flex-direction:column;

    width:calc(100% - 20px);
    height:calc(100dvh - 20px);
    max-height:calc(100dvh - 20px);

    margin:10px;
    border-radius:22px;

    grid-template-columns:none !important;
    overflow:hidden;
  }

  .workPopup__media{
    flex:0 0 auto;
    height:min(52dvh, 420px);
    min-height:260px;
  }

  .workPopup__imageFrame{
    height:100%;
  }

  .workPopup__info{
    flex:1 1 auto;
    min-height:0;

    overflow-y:auto;
    -webkit-overflow-scrolling:touch;

    overscroll-behavior:contain;
    touch-action:pan-y;
  }
}